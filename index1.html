<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>採用サイト</title>
</head>

<body>

    <?var url = getScriptUrl();?>

    <div style="height:150px"></div>

    <div align="center">
        <label>　 ID:　</label>
        <input type="text" name="loginID" id="loginID" required>
        <br>
        <label>PASS:　</label>
        <input type="password" maxlength="8" name="loginPASS" id="loginPASS" required>
        <br>
        <br>
    </div>

    <div align="center">

        <button style="margin-right: 30px;color:white;background-color:#0000FF;font-size:10;
                   width:150px;height:70px;outline: none;border-radius:10px;border:none;" type="button"
            onclick="login()">ログイン</button>

        <button style="color:white;background-color:#FFCC33;font-size:10;vertical-align: top;
                   width:150px;height:70px;outline: none;border-radius:10px;border:none;" type="button"
            onclick="window.top.location.href = '<?!=url?>?&page=index4';">新規登録<br>（エントリー）</button>
    </div>

    <script>
        function login() {
            const isloginID = document.getElementById("loginID").value;
            const isloginPASS = document.getElementById("loginPASS").value;

            google.script.run
                .withFailureHandler(onFailure)
                .withSuccessHandler(onSuccess)
                .inputCheck(isloginID, isloginPASS);
        }

        function onSuccess(result, isloginID) {
            console.log(result);
            console.log(isloginID);
            const loginIDN = document.getElementById("loginID").value;
            window.top.location.href = '<?!=url?>' + '?id=' + loginIDN + '&enumber=99&page=index2';
        }

        function onFailure(e) {
            alert([e.message, e.stack]);
        }
    </script>

</body>

</html>

